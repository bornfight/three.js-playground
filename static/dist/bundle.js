!function n(o,r,a){function s(t,e){if(!r[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(l)return l(t,!0);throw(i=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",i}i=r[t]={exports:{}},o[t][0].call(i.exports,function(e){return s(o[t][1][e]||e)},i,i.exports,n,o,r,a)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,i){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=n(e("three")),o=n(e("dat.gui")),s=e("three/examples/jsm/controls/OrbitControls"),l=e("three/examples/jsm/loaders/GLTFLoader");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var i,n,o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&((n=r?Object.getOwnPropertyDescriptor(e,i):null)&&(n.get||n.set)?Object.defineProperty(o,i,n):o[i]=e[i]);return o.default=e,t&&t.set(e,o),o}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DOM={modelContainer:".js-model-container"}}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.modelContainer=document.querySelector(this.DOM.modelContainer),null!==this.modelContainer&&(this.gui=new o.GUI({name:"Bottle config"}),this.guiConf={light:{lightIntensity:6},color:{color:"#0fb3a0"},autoRotation:{autoRotate:!0},opacity:{transparent:!1,opacity:.3},glossy:{glass:!0,emissiveColor:"#1e0f0f"}},this.initFBXModel(),this.animate())}},{key:"initFBXModel",value:function(){var t=this;this.camera=new r.PerspectiveCamera(35,window.innerWidth/window.innerHeight,.5,400),this.camera.updateProjectionMatrix(),this.camera.position.set(48,20,32),this.scene=new r.Scene,this.scene.background=new r.Color(10526880),this.scene.fog=new r.Fog(10526880,200,400);var e=new r.HemisphereLight(16777215,10066329);e.position.set(0,200,0),this.scene.add(e),this.ambientLight=new r.AmbientLight(4210752),this.ambientLight.matrixAutoUpdate=!1,this.scene.add(this.ambientLight),this.dirSubLight=new r.DirectionalLight(13421772,1),this.dirSubLight.position.set(-20,20,-20),this.dirSubLight.matrixAutoUpdate=!1,this.scene.add(this.dirSubLight),this.dirLight=new r.DirectionalLight(13421772,this.guiConf.light.lightIntensity),this.dirLight.position.set(20,30,20),this.dirLight.castShadow=!0,this.dirLight.shadow.camera.top=180,this.dirLight.shadow.camera.bottom=-100,this.dirLight.shadow.camera.left=-120,this.dirLight.shadow.camera.right=120,this.dirLight.shadow.mapSize.width=2048,this.dirLight.shadow.mapSize.height=2048,this.dirLight.matrixAutoUpdate=!1,this.scene.add(this.dirLight),this.gui.add(this.guiConf.light,"lightIntensity",1,10,.1).onChange(function(e){t.dirLight.intensity=e});e=new r.Mesh(new r.PlaneBufferGeometry(2e3,2e3,10,10),new r.MeshPhongMaterial({color:10066329,depthWrite:!1}));e.material.color.convertSRGBToLinear(),e.rotation.x=-Math.PI/2,e.receiveShadow=!0,this.scene.add(e);e=new r.GridHelper(2e3,40,0,0);e.material.opacity=.1,e.material.transparent=!0,this.scene.add(e),this.renderer=new r.WebGLRenderer({antialias:!0,depth:!1,powerPreference:"high-performance"}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.renderer.gammaFactor=2.2,this.renderer.outputEncoding=r.sRGBEncoding,this.renderer.physicallyCorrectLights=!0,this.renderer.shadowMap.type=r.PCFShadowMap,this.modelContainer.appendChild(this.renderer.domElement),this.loadModel(),this.controls=new s.OrbitControls(this.camera,this.renderer.domElement),this.controls.target.set(0,10,0),this.controls.autoRotate=this.guiConf.autoRotation.autoRotate,this.controls.autoRotateSpeed=1,this.gui.add(this.guiConf.autoRotation,"autoRotate").onChange(function(e){t.controls.autoRotate=!1!==e}),window.addEventListener("resize",function(){return t.onWindowResize()},!1)}},{key:"loadModel",value:function(){var o=this,e=this.modelContainer.getAttribute("data-model-source");(new l.GLTFLoader).load(e,function(e){var n=new r.MeshPhysicalMaterial({color:o.guiConf.color.color,depthFunc:!1});n.color.convertSRGBToLinear(),e.scene.traverse(function(t){var e,i;t.isMesh&&(t.position.y=.1,t.castShadow=!0,t.material.side=2,t.material.shadowSide=1,t.material.metalness=0,t.material.opacity=o.guiConf.opacity.opacity,t.material.emissive.set(o.guiConf.glossy.emissiveColor),t.material.depthFunc=!1,t.material.color.convertSRGBToLinear(),t.matrixAutoUpdate=!1,e=[(e="/three.js-playground/static/images/maps/")+"posx.jpg",e+"negx.jpg",e+"posy.jpg",e+"negy.jpg",e+"posz.jpg",e+"negz.jpg"],(e=(new r.CubeTextureLoader).load(e)).format=r.RGBFormat,e.encoding=r.sRGBEncoding,t.material.envMap=e,t.material.needsUpdate=!1,i=t.material,!1===o.guiConf.opacity.transparent?t.material=n:t.material=i,o.guiConf.glossy.glass&&o.glassOptions(t.material),o.gui.addColor(o.guiConf.color,"color").onChange(function(e){t.material.color.set(e)}),o.gui.add(o.guiConf.opacity,"transparent").onChange(function(e){t.material=!1===e?n:i,o.guiConf.glossy.glass&&o.glassOptions(t.material)}),o.gui.add(o.guiConf.opacity,"opacity",.25,.75,.01).onChange(function(e){t.material.opacity=e}),o.gui.addColor(o.guiConf.glossy,"emissiveColor").onChange(function(e){t.material.emissive.set(e)}),o.gui.add(o.guiConf.glossy,"glass").onChange(function(e){e?o.glassOptions(t.material):o.matteOptions(t.material)}))}),o.scene.add(e.scene),o.dirLight.updateMatrix(),o.dirSubLight.updateMatrix(),o.ambientLight.updateMatrix()})}},{key:"glassOptions",value:function(e){e.refractionRatio=1,e.reflectivity=1,e.roughness=0,e.clearcoat=1,e.clearcoatRoughness=0}},{key:"matteOptions",value:function(e){e.refractionRatio=0,e.reflectivity=0,e.roughness=.5,e.clearcoat=0,e.clearcoatRoughness=.5}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"animate",value:function(){var e=this;requestAnimationFrame(function(){return e.animate()}),this.renderer.render(this.scene,this.camera),this.controls.update()}}])&&d(t.prototype,i),n&&d(t,n),e}();i.default=e},{"dat.gui":"dat.gui",three:"three","three/examples/jsm/controls/OrbitControls":"three/examples/jsm/controls/OrbitControls","three/examples/jsm/loaders/GLTFLoader":"three/examples/jsm/loaders/GLTFLoader"}],2:[function(e,t,i){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("three")),o=n(e("dat.gui")),l=e("three/examples/jsm/controls/OrbitControls"),c=e("three/examples/jsm/loaders/GLTFLoader");function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var i,n,o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&((n=r?Object.getOwnPropertyDescriptor(e,i):null)&&(n.get||n.set)?Object.defineProperty(o,i,n):o[i]=e[i]);return o.default=e,t&&t.set(e,o),o}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DOM={modelContainer:".js-model-container-shader"}}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.modelContainer=document.querySelector(this.DOM.modelContainer),null!==this.modelContainer&&(this.gui=new o.GUI({name:"Bottle config"}),this.guiConf={autoRotation:{autoRotate:!0}},this.initFBXModel(),this.animate())}},{key:"initFBXModel",value:function(){var t=this,i=[];["px","nx","py","ny","pz","nz"].forEach(function(e){i.push("".concat("https://s3-us-west-2.amazonaws.com/s.cdpn.io/1147877/winter-hdri_").concat(e).concat(".png"))});var e=(new s.CubeTextureLoader).load(i);e.format=s.RGBFormat,this.camera=new s.PerspectiveCamera(35,window.innerWidth/window.innerHeight,.5,1e3),this.camera.position.set(48,20,32),this.scene=new s.Scene,this.scene.background=e,this.scene.matrixAutoUpdate=!1;var n={uniforms:{mRefractionRatio:{value:1.02},mFresnelBias:{value:.1},mFresnelPower:{value:2},mFresnelScale:{value:1},tCube:{value:null}},vertexShader:document.querySelector("#shader-vertex").textContent,fragmentShader:document.querySelector("#shader-fragment").textContent},o=s.UniformsUtils.clone(n.uniforms);o.tCube.value=e;var r=new s.ShaderMaterial({uniforms:o,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}),n=this.modelContainer.getAttribute("data-model-source");(new c.GLTFLoader).load(n,function(e){e.scene.traverse(function(e){e.isMesh&&(e.position.y=.1,e.material=r)}),t.scene.add(e.scene)}),this.renderer=new s.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.modelContainer.appendChild(this.renderer.domElement),this.controls=new l.OrbitControls(this.camera,this.renderer.domElement),this.controls.target.set(0,10,0),this.controls.autoRotate=this.guiConf.autoRotation.autoRotate,this.controls.autoRotateSpeed=1,this.gui.add(this.guiConf.autoRotation,"autoRotate").onChange(function(e){t.controls.autoRotate=!1!==e}),window.addEventListener("resize",function(){return t.onWindowResize()},!1)}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"animate",value:function(){var e=this;requestAnimationFrame(function(){return e.animate()}),this.renderer.render(this.scene,this.camera),this.controls.update()}}])&&r(t.prototype,i),n&&r(t,n),e}();i.default=e},{"dat.gui":"dat.gui",three:"three","three/examples/jsm/controls/OrbitControls":"three/examples/jsm/controls/OrbitControls","three/examples/jsm/loaders/GLTFLoader":"three/examples/jsm/loaders/GLTFLoader"}],3:[function(e,t,i){"use strict";function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DOM={navigation:".js-navigation-wrapper",states:{navigationScrolled:"has-scrolled",navigationFixed:"is-fixed",navigationSlideUp:"slide-up"}},this.scrolling=!1,this.scrollNavigationOffset=200,this.previousTop=0,this.currentTop=0,this.scrollDelta=0,this.scrollOffset=0,this.navigation=document.querySelector(this.DOM.navigation)}var t,i,n;return t=e,(i=[{key:"init",value:function(){null!==this.navigation?this.navigationController():console.error("".concat(this.DOM.navigation," does not exist in the DOM!"))}},{key:"navigationController",value:function(){var e=this;document.addEventListener("scroll",function(){e.scrolling||(e.scrolling=!0,window.requestAnimationFrame?requestAnimationFrame(function(){return e.checkScroll()}):setTimeout(e.checkScroll(),250))})}},{key:"checkScroll",value:function(){var e=window.pageYOffset|document.body.scrollTop;this.changeNavigationState(e),this.previousTop=e,this.scrolling=!1}},{key:"changeNavigationState",value:function(e){e>this.scrollNavigationOffset?this.navigation.classList.add(this.DOM.states.navigationScrolled):this.navigation.classList.remove(this.DOM.states.navigationScrolled),this.previousTop>=e?this.scrollingUp(e):this.scrollingDown(e)}},{key:"scrollingUp",value:function(e){(e<this.scrollNavigationOffset||this.previousTop-e>this.scrollDelta)&&this.navigation.classList.remove(this.DOM.states.navigationSlideUp)}},{key:"scrollingDown",value:function(e){e>this.scrollNavigationOffset+this.scrollOffset?this.navigation.classList.add(this.DOM.states.navigationSlideUp):e>this.scrollNavigationOffset&&this.navigation.classList.remove(this.DOM.states.navigationSlideUp)}}])&&o(t.prototype,i),n&&o(t,n),e}();i.default=n},{}],4:[function(e,t,i){"use strict";var n=a(e("./components/NavigationController")),o=a(e("./components/GLTFModelController")),r=a(e("./components/GLTFModelControllerShader"));function a(e){return e&&e.__esModule?e:{default:e}}var s;s=function(){"function"==typeof GridHelper&&(new GridHelper).init();var e=["background-color: #000000","color: white","display: block","line-height: 24px","text-align: center","border: 1px solid #ffffff","font-weight: bold"].join(";");console.info("dev by: %c Bornfight ",e),(new n.default).init(),(new o.default).init(),(new r.default).init()},"loading"!==document.readyState?s():document.addEventListener?document.addEventListener("DOMContentLoaded",s):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&s()})},{"./components/GLTFModelController":1,"./components/GLTFModelControllerShader":2,"./components/NavigationController":3}]},{},[4]);